"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[939],{6939:function(t,s,e){e.r(s),e.d(s,{default:function(){return B}});var r=e(8489),i=e(7853),n=e(4531),o=e(8932),u=e(2587),a=e(2791),l="ProfileInfo_descriptionBlock__K0H7i",c=e(7045),d=e(3430),p=e(184),f=function(t){var s=t.status,e=t.updateStatus,r=(0,a.useState)(!1),i=(0,d.Z)(r,2),n=i[0],o=i[1],u=(0,a.useState)(s),l=(0,d.Z)(u,2),c=l[0],f=l[1];(0,a.useEffect)((function(){f(s)}),[s]);return(0,p.jsxs)("div",{children:[!n&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){o(!0)},children:s||"Write you status"})}),n&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(t){f(t.currentTarget.value)},onBlur:function(){o(!1),e(c)},autoFocus:!0,value:c})})]})};var h=function(t){var s=t.profile,e=t.status,r=t.updateStatus;return s?(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)("div",{children:s.fullName}),(0,p.jsx)("img",{src:s.photos.large,alt:""}),(0,p.jsx)(f,{status:e,updateStatus:r}),s.aboutMe&&(0,p.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435 - ",s.aboutMe]}),(0,p.jsx)("hr",{}),(0,p.jsx)("div",{children:s.lookingForAJob?(0,p.jsxs)("div",{children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443, \u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f - ",s.lookingForAJobDescription]}):(0,p.jsx)("div",{children:"\u041d\u0435 \u0432 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"})})]})}):(0,p.jsx)(c.Z,{})},x=e(81),j=e(7375),v=e(5531),m={postsBlock:"MyPosts_postsBlock__8FbUf"},g="Post_item__ZRSr4";var P=function(t){return(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9vyJKx4pLsdMnrXtpsZzKgHIfTV-izdSGHA&usqp=CAU",alt:""}),t.description,(0,p.jsx)("div",{children:(0,p.jsxs)("span",{children:[t.likesCount," like"]})})]})},y=e(6834),k=e(1117),S=function(t){var s=(0,y.cI)({mode:"onChange"}),e=s.register,r=s.reset,i=s.handleSubmit,n=s.formState.errors;return(0,p.jsxs)("form",{onSubmit:i((function(s){t.newPostBody(s.newPostProfile),r()})),style:{display:"flex",flexDirection:"column",gap:"10px",width:"200px"},children:[(0,p.jsx)(k.W,{register:e,errors:n.newPostProfile,label:"newPostProfile",placeholder:"enter your message"}),(0,p.jsx)("button",{type:"submit",children:"Add post"})]})},b=a.memo((function(t){console.log("Render yo");var s=(0,v.Z)(t.posts).map((function(t){return(0,p.jsx)(P,{description:t.description,likesCount:t.likesCount},t.id)}));return(0,p.jsxs)("div",{className:m.postsBlock,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(S,{newPostBody:function(s){return t.addPost(s)}}),(0,p.jsx)("div",{className:m.posts,children:s})]})})),Z=(0,j.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,x.Pi)(s))}}}))(b);var C=function(t){var s=t.profile,e=t.status,r=t.updateStatus;return(0,p.jsxs)("div",{children:[(0,p.jsx)(h,{profile:s,status:e,updateStatus:r}),(0,p.jsx)(Z,{})]})},_=e(9723),w=e(2789),A=function(t){(0,o.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,i.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||"null"!==(t="".concat(this.props.authUserId))&&t||this.props.history.push("/login"),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,p.jsx)(C,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(a.Component),B=(0,w.qC)((0,j.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authUserId:t.auth.id,isAuth:t.auth.isAuth}}),{setUserProfile:x.kC,getProfile:x.GA,getStatus:x.GP,updateStatus:x.OG}),_.EN)(A)},1117:function(t,s,e){e.d(s,{W:function(){return n}});var r=e(8489),i=(e(2791),e(184)),n=function(t){var s=t.placeholder,e=t.label,n=t.register,o=t.errors;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("textarea",(0,r.Z)((0,r.Z)({},n(e,{required:"field is required"})),{},{placeholder:s})),o&&(0,i.jsx)("div",{style:{color:"red",fontSize:"14px"},children:o.message})]})}}}]);
//# sourceMappingURL=939.465ccba5.chunk.js.map