"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[887],{3887:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var i=s(8489),r=s(7853),n=s(4531),o=s(8932),l=s(2587),a=s(2791),c=s(3738),d=s(3430),u="ProfileInfo_descriptionBlock__K0H7i",p=s(7045),h=s(184),f=function(e){var t=e.status,s=e.updateStatus,i=(0,a.useState)(!1),r=(0,d.Z)(i,2),n=r[0],o=r[1],l=(0,a.useState)(t),c=(0,d.Z)(l,2),u=c[0],p=c[1];(0,a.useEffect)((function(){p(t)}),[t]);return(0,h.jsxs)("div",{children:[!n&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){o(!0)},children:t||"Write you status"})}),n&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(e){p(e.currentTarget.value)},onBlur:function(){o(!1),s(u)},autoFocus:!0,value:u})})]})},x=s(8987),v=s(3032),j=s(4322),g=s.n(j),m=s(81),y=s(6834),b=s(5178),k={background:"#4c4c70",padding:"5px",borderRadius:"10px"},P=function(e){var t=e.profile,s=e.setEditMode,r=(0,y.cI)(),n=r.handleSubmit,o=r.register,l=r.setValue,c=r.formState.errors,d=r.setError,u=(0,b.TL)(),p=function(){var e=(0,v.Z)(g().mark((function e(t){var i,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u((0,m.Ms)(t));case 2:(i=e.sent)&&(r=i.slice(30,-1).toLowerCase(),d("contacts."+r,{message:"not corrected url"}),console.log(i)),i||s(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){l("fullName",t.fullName),l("lookingForAJob",t.lookingForAJob),l("lookingForAJobDescription",t.lookingForAJobDescription),l("aboutMe",t.aboutMe),l("contacts",t.contacts)}),[]),(0,h.jsxs)("form",{onSubmit:n(p),children:[(0,h.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,h.jsxs)("div",{style:k,children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),(0,h.jsx)("textarea",(0,i.Z)((0,i.Z)({},o("aboutMe")),{},{placeholder:"About me"}))]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"}),(0,h.jsx)("input",(0,i.Z)((0,i.Z)({},o("fullName")),{},{placeholder:"fullName"}))]})]}),(0,h.jsxs)("div",{style:k,children:[(0,h.jsx)("div",{children:"\u0420\u0430\u0431\u043e\u0442\u0430"}),(0,h.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[(0,h.jsx)("span",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"}),(0,h.jsx)("input",(0,i.Z)((0,i.Z)({},o("lookingForAJob")),{},{type:"checkbox"}))]}),(0,h.jsxs)("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[(0,h.jsx)("span",{children:"\u041c\u043e\u0438 \u0441\u043a\u0438\u043b\u043b\u044b"}),(0,h.jsx)("textarea",(0,i.Z)((0,i.Z)({},o("lookingForAJobDescription")),{},{placeholder:"my skills"}))]})]}),(0,h.jsxs)("div",{style:k,children:[(0,h.jsx)("div",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object.keys(c).length>0&&(0,h.jsx)("div",{style:{color:"red",fontSize:14},children:"not corrected url"}),Object.keys(t.contacts).map((function(e){return console.log(Object.keys(null===t||void 0===t?void 0:t.contacts).length),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:e})," ",(0,h.jsx)("input",(0,i.Z)((0,i.Z)({},o("contacts."+e)),{},{placeholder:e}))]},e)}))]})]}),(0,h.jsx)("button",{type:"submit",children:"Save"})]})},Z=function(e){var t=e.contactTitle,s=e.contactValue;return(0,h.jsx)(h.Fragment,{children:s&&(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:t}),": ",s]})})},S={background:"#4c4c70",padding:"5px",borderRadius:"10px"},w=function(e){var t=e.profile,s=e.isOwner,i=e.goToEditMode,r=(0,a.useState)(!1),n=(0,d.Z)(r,2),o=n[0],l=n[1];return(0,h.jsxs)(h.Fragment,{children:[s&&(0,h.jsx)("div",{children:(0,h.jsx)("button",{onClick:i,children:"edit"})}),t.aboutMe&&(0,h.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435 - ",t.aboutMe]}),o?(0,h.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,h.jsxs)("div",{style:S,children:[(0,h.jsx)("div",{children:"\u0420\u0430\u0431\u043e\u0442\u0430"}),t.lookingForAJob?(0,h.jsxs)("div",{children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443, \u043c\u043e\u0438 \u0441\u043a\u0438\u043b\u043b\u044b - ",t.lookingForAJobDescription]}):(0,h.jsx)("div",{children:"\u041d\u0435 \u0432 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"})]}),(0,h.jsxs)("div",{style:S,children:[(0,h.jsx)("div",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),!t.contacts&&(0,h.jsx)("div",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"}),Object.keys(t.contacts).map((function(e){var s;return(0,h.jsx)(Z,{contactTitle:e,contactValue:null===(s=t.contacts)||void 0===s?void 0:s[e]},e)}))]})]}):(0,h.jsx)("div",{onClick:function(){return l(!0)},style:{cursor:"pointer"},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435..."})]})},C={opacity:0,height:0,width:0,lineHeight:0,overflow:"hidden",padding:0,margin:0};var A=function(e){var t,s=e.profile,i=e.status,r=e.updateStatus,n=e.isOwner,o=e.savePhoto,l=e.saveProfile,c=(0,a.useState)(!1),v=(0,d.Z)(c,2),j=v[0],g=v[1],m=(0,a.useRef)(null);return s?(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:u,children:[(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"220px",gap:5},children:[(0,h.jsx)("img",{src:(null===(t=s.photos)||void 0===t?void 0:t.large)||x,alt:"",style:{height:200}}),n&&(0,h.jsx)("button",{onClick:function(){var e;m&&(null===(e=m.current)||void 0===e||e.click())},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e"}),n&&(0,h.jsx)("input",{type:"file",accept:".png,.jpg,",ref:m,style:C,onChange:function(e){if(e.target.files&&e.target.files.length){var t=e.target.files[0];o(t)}}})]}),(0,h.jsxs)("div",{style:{display:"flex",gap:20,alignItems:"end"},children:[(0,h.jsx)("div",{style:{fontSize:20},children:s.fullName}),(0,h.jsx)(f,{status:i,updateStatus:r})]}),(0,h.jsx)("hr",{}),j&&n?(0,h.jsx)(P,{profile:s,saveProfile:l,setEditMode:g}):(0,h.jsx)(w,{profile:s,isOwner:n,goToEditMode:function(){return g(!0)}})]})}):(0,h.jsx)(p.Z,{})},M=s(7375),F=s(5531),I={postsBlock:"MyPosts_postsBlock__8FbUf"},N="Post_item__ZRSr4";var O=function(e){return(0,h.jsxs)("div",{className:N,children:[(0,h.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9vyJKx4pLsdMnrXtpsZzKgHIfTV-izdSGHA&usqp=CAU",alt:""}),e.description,(0,h.jsx)("div",{children:(0,h.jsxs)("span",{children:[e.likesCount," like"]})})]})},_=s(1117),D=function(e){var t=(0,y.cI)({mode:"onChange"}),s=t.register,i=t.reset,r=t.handleSubmit,n=t.formState.errors;return(0,h.jsxs)("form",{onSubmit:r((function(t){e.newPostBody(t.newPostProfile),i()})),style:{display:"flex",flexDirection:"column",gap:"10px",width:"200px"},children:[(0,h.jsx)(_.W,{register:s,errors:n.newPostProfile,label:"newPostProfile",placeholder:"enter your message"}),(0,h.jsx)("button",{type:"submit",children:"Add post"})]})},J=a.memo((function(e){console.log("Render yo");var t=(0,F.Z)(e.posts).map((function(e){return(0,h.jsx)(O,{description:e.description,likesCount:e.likesCount},e.id)}));return(0,h.jsxs)("div",{className:I.postsBlock,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(D,{newPostBody:function(t){return e.addPost(t)}}),(0,h.jsx)("div",{className:I.posts,children:t})]})})),E=(0,M.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e((0,m.Pi)(t))}}}))(J),T=["profile","status","updateStatus","savePhoto","saveProfile"];var B=function(e){var t=e.profile,s=e.status,i=e.updateStatus,r=e.savePhoto,n=e.saveProfile,o=(0,c.Z)(e,T);return(0,h.jsxs)("div",{children:[(0,h.jsx)(A,{profile:t,status:s,updateStatus:i,isOwner:o.isOwner,savePhoto:r,saveProfile:n}),(0,h.jsx)(E,{})]})},R=s(9723),U=s(2789),q=function(e){(0,o.Z)(s,e);var t=(0,l.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||"null"!==(e="".concat(this.props.authUserId))&&e||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)(B,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,isOwner:!this.props.match.params.userId,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(a.Component),z=(0,U.qC)((0,M.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.id,isAuth:e.auth.isAuth}}),{setUserProfile:m.kC,getProfile:m.GA,getStatus:m.GP,updateStatus:m.OG,savePhoto:m.Tw,saveProfile:m.Ms}),R.EN)(q)},1117:function(e,t,s){s.d(t,{W:function(){return n}});var i=s(8489),r=(s(2791),s(184)),n=function(e){var t=e.placeholder,s=e.label,n=e.register,o=e.errors;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("textarea",(0,i.Z)((0,i.Z)({},n(s,{required:"field is required"})),{},{placeholder:t})),o&&(0,r.jsx)("div",{style:{color:"red",fontSize:"14px"},children:o.message})]})}},8987:function(e,t,s){e.exports=s.p+"static/media/avatar.9dc92b0a1003b149f6c9.png"}}]);
//# sourceMappingURL=887.468da7f3.chunk.js.map